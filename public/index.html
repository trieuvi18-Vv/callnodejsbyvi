<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Thá»i tiáº¿t</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <h1>ğŸŒ¤ï¸Thá»i tiáº¿t</h1>

    <input id="city" type="text" placeholder="Nháº­p tÃªn thÃ nh phá»‘...">
    <button onclick="getWeather()">Xem</button>

    <div id="result"></div>
</div>

<script>
    async function getWeather() {
        const city = document.getElementById("city").value;
        const resultDiv = document.getElementById("result");

        if (!city) {
            resultDiv.innerHTML = "<p class='error'>Báº¡n pháº£i nháº­p tÃªn thÃ nh phá»‘!</p>";
            return;
        }

        const res = await fetch("/weather", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ city })
        });

        const data = await res.json();

        if (data.error) {
            resultDiv.innerHTML = `<p class="error">${data.error}</p>`;
            return;
        }

        resultDiv.innerHTML = `
        <h2>ğŸ“${data.city}</h2>
        <div class="weather-emoji">${data.emoji}</div>
        <p>ğŸ¥µNhiá»‡t Ä‘á»™: ${data.temp}Â°C</p>
        <p>â›„Äá»™ áº©m: ${data.humidity}%</p>
        <p>ğŸŒ¬ï¸MÃ´ táº£: ${data.desc}</p>
    `;
    }
</script>

</body>
</html>
